# UK Trade Info Data Parser

Этот проект предназначен для асинхронного сбора и обработки данных о торговле из API UK Trade Info. Скрипт собирает данные о торговых операциях, а также использует вспомогательные API для получения информации о портах, странах и типах потоков.

## Требования

- Python 3.7+
- aiohttp
- asyncio

## Установка

1. Клонируйте репозиторий или скачайте проект.
2. Установите необходимые зависимости с помощью pip:

    ```bash
    pip install aiohttp
    ```

## Использование

Запустите скрипт:

```bash
python main.py
```

Скрипт выполнит следующие шаги:

1. Получит данные о портах, странах и типах потоков из соответствующих API.
2. Скачает данные о торговых операциях за заданный месяц и применит фильтры.
3. Обработает и сохранит данные в файл `import_data.csv`.

### Пример вывода

Скрипт выводит данные на экран и сохраняет их в CSV файл со следующими столбцами:

- `Cn8Code`
- `Cn8LongDescription`
- `EU / NON EU`
- `Continent`
- `Country`
- `PortName`
- `Value (£)`
- `Net Mass (Kg)`
- `Supp Unit`
- `Flow Type`
- `Year`
- `Month`

## Детали реализации

### Асинхронные запросы

Для отправки запросов к API используется библиотека `aiohttp`, что позволяет параллельно обрабатывать большое количество запросов и ускоряет процесс получения данных.

### Обработка ошибок

Функция `send_get_request` обрабатывает ошибки HTTP и применяет повторные попытки в случае временных проблем, таких как превышение лимита запросов.

### Пагинация

Для обработки больших объемов данных используется пагинация, что позволяет последовательно запрашивать и обрабатывать части данных, избегая превышения лимитов ответа API.

### Сохранение данных

После обработки данные сохраняются в CSV файл для дальнейшего анализа и использования.
